import{B as p}from"../assets/base-element-f411db3f.js";import{c as l}from"../assets/position-calculator-e4058210.js";class t extends p{static tagName="cc-popover-wrapper";connectedCallback(){this.render('<slot name="trigger"></slot><slot></slot>',`:host{position:relative}
`),this.trigger=this.getAssignedElementsFor(this.getSlot("trigger"))[0],this.popoverElement=this.getAssignedElementsFor(this.defaultSlot)[0],this.trigger.addEventListener("click",this.handleTriggerClick.bind(this)),this.addEventListener("popoverOpened",e=>{window.addEventListener("wheel",this.updatePosition)}),this.addEventListener("popoverClosed",e=>{window.removeEventListener("wheel",this.updatePosition)})}handleTriggerClick(e){this.updatePosition(e),this.popoverElement.toggleAttribute("open")}updatePosition=e=>{const o=this.popoverElement.getAttribute("placement"),{x:s,y:i,anchorElementWidth:r,reverse:n}=l({popover:this.popoverElement,anchorElement:this.trigger,position:o??"bottom-center",offset:10});this.popoverElement.style.setProperty("--left",`${s}px`),this.popoverElement.style.setProperty("--top",`${i}px`),this.popoverElement.style.setProperty("--anchor-element-width",`${r}px`),n?this.popoverElement?.setAttribute("reverse",""):this.popoverElement?.removeAttribute("reverse")}}customElements.get(t.tagName)||customElements.define(t.tagName,t);
